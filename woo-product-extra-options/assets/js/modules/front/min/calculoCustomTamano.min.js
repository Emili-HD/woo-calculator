const data=JSON.parse(wpcc_vars.data),atributos=JSON.parse(wpcc_vars.atributos);export function calculoCustomTamano(a,t){const e=document.querySelector(".wpcc-group-radios[data-name=tamano]");if(e&&data.campos&&data.campos.cartulina){const t=data.campos.cartulina,e=a.customCalculosIniciales.map(a=>a.cantidad),o=e.map(a=>parseInt(a)),r=data.campos.impresion,s=data.primas.materias.filter(a=>t.includes(a[0]));o.forEach(t=>{const e={};s.forEach(a=>{var o=document.querySelector("input[name='alto']"),s=document.querySelector("input[name='ancho']"),c=document.querySelector(".custom__sizes-size"),n=document.querySelector(".custom__sizes-error");if(o&&s){n.style.display="none",o=parseFloat(o.value),s=parseFloat(s.value);var l=o*s,u=parseFloat(c.getAttribute("data-areamin")),i=parseFloat(c.getAttribute("data-areamax")),p=parseFloat(document.querySelector("input[name='alto']").getAttribute("data-min")),m=parseFloat(document.querySelector("input[name='alto']").getAttribute("data-max")),d=parseFloat(document.querySelector("input[name='ancho']").getAttribute("data-min")),f=parseFloat(document.querySelector("input[name='ancho']").getAttribute("data-max"));if(l>=u&&l<=i||p>=o||m<=o||d>=s||f<=s){const c=Math.floor(a[3]/(parseInt(s)+8))*Math.floor(a[4]/(parseInt(o)+8)),n=Math.floor(a[3]/(parseInt(o)+8))*Math.floor(a[4]/(parseInt(s)+8)),l=Math.floor(a[3]/parseInt(s))+Math.floor(a[4]/parseInt(o)+2),u=Math.floor(a[3]/parseInt(o))+Math.floor(a[4]/parseInt(s)+2),i=c>n?c:n,p=i===c?l:u,m=Math.ceil(t/i);let d={};r.forEach(a=>{const t=`${a}cara${a>1?"s":""}`;d[t]=parseInt(a)*m}),e[a[0]]||(e[a[0]]={});const f=`${o}x${s}`;return e[a[0]][f]={orig:i,hojas:m,impresiones:d,corte:p},!0}return n.style.display="block",!1}});const o=a.customCalculosIniciales.find(a=>a.cantidad===t);o?Object.keys(e).forEach(a=>{o.detalles[a]||(o.detalles[a]={}),Object.keys(e[a]).forEach(t=>{o.detalles[a][t]=e[a][t]})}):a.customCalculosIniciales.push({cantidad:t,detalles:e})})}}